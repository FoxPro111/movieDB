(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(24),o=t.n(c),i=(t(64),t(15)),u=t(21),l=t(4),s=t(5);function f(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  font-size: 14px;\n  color: #000;\n  font-weight: 600;\n"]);return f=function(){return e},e}function m(){var e=Object(l.a)(["\n  font-size: 15px;\n  color: #484848;\n  margin-top: 0;\n  margin-bottom: 15px;\n"]);return m=function(){return e},e}function d(){var e=Object(l.a)(["\n  margin-top: 0;\n  font-size: 18px;\n  line-height: 1.2;\n  margin-bottom: 10px;\n"]);return d=function(){return e},e}function p(){var e=Object(l.a)(["\n  max-width: 1024px;\n  width: 90%;\n  padding: 30px;\n  margin: 30px auto;\n  border: 1px solid #ccc;\n  background-color: #c6edff;\n"]);return p=function(){return e},e}var v=s.a.div(p()),E=s.a.h4(d()),g=s.a.p(m()),b=s.a.div(f()),h=function(e){var n=e.title,t=e.vote_average,r=e.release_date,c=e.overview,o=e.click,i=e.id;return a.a.createElement(v,{onClick:function(){return o(i)}},a.a.createElement(E,null,n),a.a.createElement(g,null,c),a.a.createElement(b,null,a.a.createElement("span",null,t),a.a.createElement("span",null,r)))};function O(){var e=Object(l.a)(["\n  transform: scale(1.1) rotateZ(270deg);\n\n  &:before {\n    animation-delay: 1.04s;\n  }\n"]);return O=function(){return e},e}function _(){var e=Object(l.a)(["\n  transform: scale(1.1) rotateZ(180deg);\n\n  &:before {\n    animation-delay: 0.69s;\n  }\n"]);return _=function(){return e},e}function x(){var e=Object(l.a)(["\n  transform: scale(1.1) rotateZ(90deg);\n\n  &:before {\n    animation-delay: 0.35s;\n  }\n"]);return x=function(){return e},e}function j(){var e=Object(l.a)(['\n  position: relative;\n  transform: rotateZ(45deg);\n  width: 50%;\n  height: 50%;\n  float: left;\n  transform: scale(1.1);\n\n  &:before {\n    content: "";\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: currentColor;\n    animation: '," 2.76s infinite linear both;\n    transform-origin: 100% 100%;\n  }\n"]);return j=function(){return e},e}function S(){var e=Object(l.a)(["\n  0%,\n  10% {\n    transform: perspective(136px) rotateX(-180deg);\n    opacity: 0;\n  }\n\n  25%,\n  75% {\n    transform: perspective(136px) rotateX(0deg);\n    opacity: 1;\n  }\n\n  90%,\n  100% {\n    transform: perspective(136px) rotateY(180deg);\n    opacity: 0;\n  }\n"]);return S=function(){return e},e}function y(){var e=Object(l.a)(["\n  width: 73px;\n  height: 73px;\n  margin: 30px auto;\n  position: relative;\n  transform: rotateZ(45deg);\n  color: ",";\n"]);return y=function(){return e},e}var w=s.a.div(y(),function(e){return e.light?"#fff":"#34495e"}),C=Object(s.b)(S()),M=s.a.div(j(),C),k=Object(s.a)(M)(x()),T=Object(s.a)(M)(_()),R=Object(s.a)(M)(O()),I=function(e){return a.a.createElement(w,{light:e.light},a.a.createElement(M,null),a.a.createElement(k,null),a.a.createElement(T,null),a.a.createElement(R,null))},F=t(51),V=t.n(F),N="FETCH_GENRE",A="SEARCH_MOVIES",H="FETCH_MORE_MOVIES",L="SELECT_MOVIE",D=function(e){return{type:"FETCH_GENRE_FAILED",error:e}},z=function(e){return{type:"FETCH_GENRE_SUCCESS",data:e}},G=function(){return{type:"FETCH_GENRE_START"}},U=function(e){return{type:"SEARCH_MOVIES_FAILED",error:e}},q=function(e,n){return{type:"SEARCH_MOVIES_SUCCESS",data:e,query:n}},P=function(){return{type:"SEARCH_MOVIES_START"}},X=function(e){return{type:"FETCH_MORE_MOVIES_FAILED",error:e}},Z=function(e){return{type:"FETCH_MORE_MOVIES_SUCCESS",data:e}},Y=function(){return{type:"FETCH_MORE_MOVIES_START"}},B=function(e){return{type:"SELECT_MOVIE_FAILED",error:e}},J=function(e){return{type:"SELECT_MOVIE_SUCCESS",data:e}},W=Object(i.b)(function(e){return{movies:e.movies.movies,loadign:e.movies.loadign,error:e.movies.error,currentMovies:e.movie.currentMovies,query:e.movies.query,nextPage:e.movies.nextPage}},function(e){return{onMovieSelect:function(n){return e(function(e){return{type:L,id:e}}(n))},onFetchMoreMovies:function(n){return e(function(e){return{type:H,query:e}}(n))}}})(function(e){var n=a.a.createElement(I,{ligth:!0}),t=function(n){e.currentMovies&&e.currentMovies.id===n||e.onMovieSelect(n)};return e.movies.length&&(n=a.a.createElement(V.a,{dataLength:e.movies.length,next:function(){var n=Object(u.a)(e.query);n.push("page=".concat(e.nextPage)),e.onFetchMoreMovies(n)},hasMore:!0,loader:a.a.createElement("h4",null,"Loading...")},e.movies.map(function(e){return a.a.createElement(h,Object.assign({key:e.id},e,{click:t}))}))),a.a.createElement("div",{className:"movies-list"},n)}),$=t(27),K=(t(69),t(26));function Q(){var e=Object(l.a)(["\n  display: none;\n"]);return Q=function(){return e},e}function ee(){var e=Object(l.a)(['\n  display: block;\n  vertical-align: middle;\n  position: relative;\n  padding-left: 20px;\n  font-size: 16px;\n  line-height: 24px;\n  margin-bottom: 4px;\n\n  &::before {\n    display: inline-block;\n    width: 10px;\n    height: 10px;\n    content: "";\n    position: absolute;\n    left: 0;\n    top: 6px;\n    transition: 0.35s border-background;\n    border: 2px solid #222;\n    background-color: ',";\n  }\n"]);return ee=function(){return e},e}var ne=s.a.label(ee(),function(e){return e.checked?"#222":"transparent"}),te=s.a.input.attrs({type:"checkbox"})(Q()),re=function(e){var n=e.className,t=e.checked,r=e.label,c=Object(K.a)(e,["className","checked","label"]);return a.a.createElement(ne,{checked:t,className:n},a.a.createElement(te,Object.assign({checked:t},c)),r)};function ae(){var e=Object(l.a)(["\n  width: 100%;\n  padding: 10px;\n"]);return ae=function(){return e},e}var ce=s.a.button(ae()),oe=function(e){var n=e.className,t=e.children,r=Object(K.a)(e,["className","children"]);return a.a.createElement(ce,Object.assign({className:n},r),t)},ie=t(52),ue=t.n(ie),le=(t(85),function(e){return a.a.createElement(ue.a,e)}),se=Object(i.b)(function(e){return{genres:e.filter.genres,loading:e.filter.loading,error:e.filter.error}},function(e){return{onSubmitHandler:function(n){return e({type:A,data:n})}}})(function(e){var n=Object(r.useState)([]),t=Object($.a)(n,2),c=t[0],o=t[1],i=Object(r.useState)({min:1990,max:2019}),l=Object($.a)(i,2),s=l[0],f=l[1],m=Object(r.useState)({min:.5,max:10}),d=Object($.a)(m,2),p=d[0],v=d[1],E=function(e){var n=+e.target.value,t=Object(u.a)(c),r=c.indexOf(n);-1!==r?t.splice(r,1):t.push(n),o(t)},g=null;if(e.genres.length){var b=e.genres.map(function(e){var n=-1!==c.indexOf(e.id);return a.a.createElement(a.a.Fragment,{key:e.id},a.a.createElement(re,{name:"genre",value:e.id,checked:n,label:e.name,onChange:E}))});g=a.a.createElement("div",{className:"filters__item filters__item--checkboxes"},a.a.createElement("div",{className:"filters__name"},"Genre:"),a.a.createElement("div",{className:"filters__checkboxes"},b))}var h=a.a.createElement(I,null);e.loading||(h=a.a.createElement("form",{onSubmit:function(n){n.preventDefault();var t={genres:c,rating:p,years:s};e.onSubmitHandler(t)}},g,a.a.createElement("div",{className:"filters__item"},a.a.createElement("div",{className:"filters__name"},"Rating:"),a.a.createElement("div",{className:"filters__input"},a.a.createElement(le,{maxValue:10,step:.5,minValue:.5,value:p,onChange:function(e){return v(e)}}))),a.a.createElement("div",{className:"filters__item"},a.a.createElement("div",{className:"filters__name"},"Year:"),a.a.createElement("div",{className:"filters__input"},a.a.createElement(le,{maxValue:2019,step:1,minValue:1990,value:s,onChange:function(e){return f(e)}}))),a.a.createElement(oe,{type:"submit"},"Search")));var O=["filters",e.fixed?"fixed":""];return a.a.createElement("div",{className:O.join(" ")},h)});function fe(){var e=Object(l.a)(["\n  font-style: italic;\n  font-weight: 600;\n"]);return fe=function(){return e},e}function me(){var e=Object(l.a)(["\n  font-size: 13px;\n  color: #fff;\n  position: relative;\n"]);return me=function(){return e},e}var de=s.a.div(me()),pe=s.a.time(fe()),ve=function(e){var n=null;if(e.time){var t=Math.floor(e.time/60);t=t>10?t:"0"+t;var r=e.time%60;r=r>10?r:"0"+r,n=a.a.createElement(de,null,"Duration:"," ",a.a.createElement(pe,null,t,":",r))}return n};function Ee(){var e=Object(l.a)(["\n  font-size: 13px;\n  color: #fff;\n  opacity: 0.8;\n"]);return Ee=function(){return e},e}function ge(){var e=Object(l.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.75);\n"]);return ge=function(){return e},e}function be(){var e=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-image: url(",");\n  background-size: cover;\n  background-position: 50%;\n  width: 100%;\n  height: 100%;\n"]);return be=function(){return e},e}function he(){var e=Object(l.a)(["\n  max-width: 100%;\n  height: auto;\n  margin-top: 15px;\n  position: relative;\n"]);return he=function(){return e},e}function Oe(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  font-size: 13px;\n  color: #fff;\n  font-weight: 600;\n  position: relative;\n"]);return Oe=function(){return e},e}function _e(){var e=Object(l.a)(["\n  font-size: 13px;\n  color: #fff;\n  opacity: 0.8;\n  margin-top: 0;\n  margin-bottom: 15px;\n  position: relative;\n"]);return _e=function(){return e},e}function xe(){var e=Object(l.a)(["\n  font-size: 12px;\n  color: #fff;\n  opacity: 0.8;\n  text-transform: uppercase;\n  margin-top: 0;\n  margin-bottom: 15px;\n  position: relative;\n"]);return xe=function(){return e},e}function je(){var e=Object(l.a)(["\n  font-size: 20px;\n  color: #fff;\n  text-transform: none;\n  margin-top: 0;\n  margin-bottom: 15px;\n  position: relative;\n"]);return je=function(){return e},e}var Se=s.a.h2(je()),ye=s.a.h5(xe()),we=s.a.p(_e()),Ce=s.a.div(Oe()),Me=s.a.img.attrs({src:function(e){return e.src}})(he()),ke=s.a.span(be(),function(e){return e.image?e.image:""}),Te=s.a.span(ge()),Re=s.a.div(Ee()),Ie=function(e){var n=e.title,t=e.overview,r=e.original_title,c=e.vote_average,o=e.release_date,i=e.genres,u=e.poster_path,l=e.runtime,s=e.backdrop_path,f=null;if(s){var m="https://image.tmdb.org/t/p/original".concat(s);f=a.a.createElement(ke,{image:m})}var d=null;if(u){var p="https://image.tmdb.org/t/p/w500".concat(u);d=a.a.createElement(Me,{src:p})}var v=null;return i&&(v=a.a.createElement(Re,null,i.map(function(e){return e.name}).join(", "))),a.a.createElement(a.a.Fragment,null,f,a.a.createElement(Te,null),a.a.createElement(Se,null,n),a.a.createElement(ye,null,r),a.a.createElement(we,null,t),a.a.createElement(Ce,null,a.a.createElement("span",null,c),a.a.createElement("span",null,o)," "),d,v,a.a.createElement(ve,{time:l}))};function Fe(){var e=Object(l.a)(['\n  position: absolute;\n  right: 20px;\n  top: 20px;\n  font-size: 20px;\n  font-weight: 600;\n  color: #fff;\n  transform: scale(1.2, 0.8);\n  z-index: 3;\n  cursor: pointer;\n\n  &::before {\n    content: "X";\n    display: inline-block;\n  }\n']);return Fe=function(){return e},e}function Ve(){var e=Object(l.a)(["\n  padding: 20px;\n  position: fixed;\n  right: 0;\n  top: 0;\n  height: 100%;\n  background-color: #fff;\n  width: 320px;\n  overflow: auto;\n  transition: 0.35s transform;\n  transform: ",";\n"]);return Ve=function(){return e},e}var Ne=s.a.aside(Ve(),function(e){return e.opened?"none":"translateX(100%)"}),Ae=s.a.span(Fe()),He=Object(i.b)(function(e){return{currentMovie:e.movie.currentMovies,loading:e.movie.loading,error:e.movie.error}},function(e){return{removeCurrentMovie:function(){return e({type:"SELECT_MOVIE_REMOVE"})}}})(function(e){var n=a.a.createElement(I,null),t=!1;return e.currentMovie&&(t=!0,n=a.a.createElement(Ie,e.currentMovie)),e.loading&&(n=a.a.createElement(I,null)),e.error&&(n=a.a.createElement("div",null,e.error)),a.a.createElement(Ne,{opened:t},n,a.a.createElement(Ae,{onClick:e.removeCurrentMovie}))}),Le=t(19),De=Object(i.b)(function(e){return{searching:e.movies.searching}},function(e){return{onTryFetchGenre:function(){return e({type:N})}}})(Object(Le.f)(function(e){Object(r.useEffect)(function(){e.onTryFetchGenre()},[]);var n=e.searching?a.a.createElement(Le.a,{to:"/movies"}):a.a.createElement(Le.a,{to:"/"});return a.a.createElement("div",{className:"App"},n,a.a.createElement(Le.b,{render:function(){return a.a.createElement(se,{fixed:e.searching})}}),a.a.createElement(Le.b,{path:"/movies",component:W}),a.a.createElement(Le.b,{path:"/movies",component:He}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ze=t(31),Ge=t(56),Ue=t(8),qe=t.n(Ue),Pe=t(7),Xe=t(54),Ze=t.n(Xe).a.create({baseURL:"https://api.themoviedb.org/3/"}),Ye=qe.a.mark(Je),Be=qe.a.mark(We);function Je(e){var n,t;return qe.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Pe.a)(Y());case 2:return r.prev=2,n="discover/movie?".concat(e.query.join("&")),r.next=6,Ze.get(n);case 6:return t=r.sent,r.next=9,Object(Pe.a)(Z(t.data));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(2),r.next=15,Object(Pe.a)(X(r.t0));case 15:case"end":return r.stop()}},Ye,null,[[2,11]])}function We(e){var n,t,r,a;return qe.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(Pe.a)(P());case 2:return n=[],t=new Date,n.push("api_key=eccaf510860d8b56fa2d331059cccd0d"),n.push("sort_by=release_date.desc"),n.push("primary_release_date.lte=".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())),e.data.search&&n.push("with_keywords=".concat(e.data.search)),e.data.genres.length&&n.push("with_genres=".concat(e.data.genres.join(","))),e.data.rating&&(n.push("vote_average.gte=".concat(e.data.rating.min)),n.push("vote_average.lte=".concat(e.data.rating.max))),e.data.years&&(n.push("release_date.gte=".concat(e.data.years.min,"-1-1")),n.push("release_date.lte=".concat(e.data.years.max,"-12-30"))),r="discover/movie?".concat(n.join("&")),c.prev=12,c.next=15,Ze.get(r);case 15:return a=c.sent,c.next=18,Object(Pe.a)(q(a.data,n));case 18:c.next=24;break;case 20:return c.prev=20,c.t0=c.catch(12),c.next=24,Object(Pe.a)(U(c.t0));case 24:case"end":return c.stop()}},Be,null,[[12,20]])}var $e=qe.a.mark(Ke);function Ke(){var e;return qe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Pe.a)(G());case 2:return"eccaf510860d8b56fa2d331059cccd0d",n.prev=3,n.next=6,Ze.get("genre/movie/list?api_key=".concat("eccaf510860d8b56fa2d331059cccd0d"));case 6:return e=n.sent,n.next=9,Object(Pe.a)(z(e.data));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(3),n.next=15,Object(Pe.a)(D(n.t0));case 15:case"end":return n.stop()}},$e,null,[[3,11]])}var Qe=qe.a.mark(en);function en(e){var n,t;return qe.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Pe.a)(P());case 2:return n="/movie/".concat(e.id,"?api_key=eccaf510860d8b56fa2d331059cccd0d"),r.prev=3,r.next=6,Ze.get(n);case 6:return t=r.sent,r.next=9,Object(Pe.a)(J(t.data));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(3),r.next=15,Object(Pe.a)(B(r.t0));case 15:case"end":return r.stop()}},Qe,null,[[3,11]])}var nn=qe.a.mark(an),tn=qe.a.mark(cn),rn=qe.a.mark(on);function an(){return qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Pe.b)(H,Je);case 2:return e.next=4,Object(Pe.b)(A,We);case 4:case"end":return e.stop()}},nn)}function cn(){return qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Pe.b)(N,Ke);case 2:case"end":return e.stop()}},tn)}function on(){return qe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Pe.b)(L,en);case 2:case"end":return e.stop()}},rn)}var un=t(18),ln=t(55),sn=t(10),fn={genres:[],loading:!0,error:!1},mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case N:return Object(sn.a)({},e);case"FETCH_GENRE_START":return Object(sn.a)({},e,{loading:!0,error:!1});case"FETCH_GENRE_SUCCESS":return Object(sn.a)({},e,{genres:n.data.genres,loading:!1,error:!1});case"FETCH_GENRE_FAILED":return Object(sn.a)({},e,{loading:!1,error:n.error});default:return e}},dn={movies:[],nextPage:1,total_pages:0,loading:!1,error:!1,searching:!1,query:[]},pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SEARCH_MOVIES_START":case"FETCH_MORE_MOVIES_START":return Object(sn.a)({},e,{loading:!0,error:!1,searching:!0});case"SEARCH_MOVIES_SUCCESS":return Object(sn.a)({},e,{movies:n.data.results,nextPage:n.data.page+1,total_pages:n.data.total_pages,loading:!1,error:!1,query:n.query});case"FETCH_MORE_MOVIES_FAILED":case"SEARCH_MOVIES_FAILED":return Object(sn.a)({},e,{loading:!1,error:n.error});case"FETCH_MORE_MOVIES_SUCCESS":return Object(sn.a)({},e,{nextPage:n.data.page+1,movies:Object(u.a)(e.movies).concat(n.data.results),loading:!1,error:!1});default:return e}},vn={loading:!1,error:!1,currentMovies:null},En=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SELECT_MOVIE_START":return Object(sn.a)({},e,{loading:!0,error:!1});case"SELECT_MOVIE_FAILED":return Object(sn.a)({},e,{loading:!1,error:n.error});case"SELECT_MOVIE_SUCCESS":return Object(sn.a)({},e,{loading:!1,error:!1,currentMovies:n.data});case"SELECT_MOVIE_REMOVE":return Object(sn.a)({},e,{currentMovies:null});default:return e}},gn=Object(Ge.a)(),bn=Object(un.c)({filter:mn,movies:pn,movie:En}),hn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||un.d,On=Object(un.e)(bn,hn(Object(un.a)(ln.a,gn)));gn.run(an),gn.run(cn),gn.run(on),o.a.render(a.a.createElement(i.a,{store:On},a.a.createElement(ze.a,null,a.a.createElement(De,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},59:function(e,n,t){e.exports=t(104)},64:function(e,n,t){},69:function(e,n,t){},85:function(e,n,t){}},[[59,1,2]]]);
//# sourceMappingURL=main.50f88d6e.chunk.js.map